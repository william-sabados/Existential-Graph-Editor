<!DOCTYPE html>
<html>
<head>
    <title>EG_Editor</title>

    <!--Supporting JS code. -->
    <script src="./support_js/jquery.min.js"></script>
    <script src="./support_js/bootstrap/bootstrap.js"></script>
    <script src="./support_js/lodash.min.js"></script>
    <script src="./support_js/backbone-min.js"></script>
    <script src="./support_js/joint.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!--Supporting CSS -->
    <link rel="stylesheet" type="text/css" href="./support_css/styles.css"/>
    <link rel="stylesheet" href="./support_js/bootstrap/bootstrap.css"/>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="./support_css/joint.css" />

    <!-- EG Editor JS  -->
    <script src="./js/EG_view.js"></script>
    <script src="./js/EG_model.js"></script>
    <script src="./js/EG_controller.js"></script>
    <script src="./js/egAssertionClass.js"></script>
    <script src="./js/parser.js"></script>
    <script src="./js/validator.js"></script>
    <script src="./js/syntax.js"></script>

</head>
<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Existential Graph Editor</a>
        </div>
        <ul class="nav navbar-nav">
            <!--li class="active"><a href="#">Home</a></li-->
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">File
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">New</a></li>
                    <li><a href="#">Open</a></li>
                    <li><a href="#">Save</a></li>
                    <li><a href="#">Save As</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Edit
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">Undo</a></li>
                    <li><a href="#">Redo</a></li>
                    <li><a href="#">Cut</a></li>
                    <li><a href="#">Copy</a></li>
                    <li><a href="#">Paste</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Window
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">Default Layout</a></li>
                    <li><a href="#">Orientation</a></li>
                    <li><a href="#">Multi Grid</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Help
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">How To</a></li>
                    <li><a href="#">Forum</a></li>
                    <li><a href="#">About</a></li>
                </ul>
            </li>
        </ul>

        <ul id="navhead" class="nav navbar-nav navbar-right">

            <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        </ul>
    </div>
</nav>
<img class="uahImg" src="./images/uahLogo.png">

<form>
    <div class="input-group">
        <input id="drawType" type="text" class="form-control" placeholder="enter expression" aria-describedby="basic-addon2">
        <span  class="input-group-addon" id="drawC" onclick="return OnClickDraw();">Submit</span>
        <span  class="input-group-addon" id="clear" onclick="return clearArea();">Clear</span>
        <span  class="input-group-addon" id="update" onclick="return UpdateFill();">Update</span>
        <span  class="input-group-addon" id="save">Save</span>
        <!--img class="uahImg" src="../images/uahLogo.png"-->
    </div>

</form>
<br>
<p></p>
<div class="panel panel-primary">
    <div class="panel-body">
        <section>
            <div id="myholder">
                <script src="./js/jointScript.js"></script>
            </div>

            <div id="two"><h4 id="headSide1" >ADD</h4><panel id="sideCanvas" >
                <div class="btn-group btn-group-justified" id="bt1" role="group" aria-label="...">
                    <div class="btn-group" id="dub" role="group">
                        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myAlert" > dbl neg </button>
                    </div>
                    <div class="btn-group" id="neg" role="group">
                        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" > negative </button>
                    </div>
                    <div class="btn-group" id="assert" role="group">
                        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal2" > assert </button>
                    </div>
                </div>
                <hr>
                <h4 id="headSide2">MODIFY</h4><div class="btn-group-vertical" role="group" aria-label="...">
                <button type="button" class="btn btn-info">Specialize (Negative Context)</button>
                <button type="button" class="btn btn-info">Generalize (Positive Context)</button>
                <button type="button" class="btn btn-info">Copy (Sub-Graph)</button>
                <button type="button" class="btn btn-info">Remove (Sub-Graph)</button>
                <button type="button" class="btn btn-info">2X Negative (Sub-Graph)</button>
                <button type="button" class="btn btn-info">Remove 2X (From Sub-Graph)</button>
            </div>

            </panel>
            </div>
        </section>
    </div>
    <!--br-->
    <div class="list-group">
        <a href="#" class="list-group-item active">
            <h4 class="list-group-item-heading">This is a UAH Project Done by the SMAP Center</h4>
            <p class="list-group-item-text">...</p>
        </a>
    </div>

    <div class="panel-footer">Developed by: Jason Thomas, Telly Polychroniades, & Dr. William Sabados</div>
</div>
<!-- Modal button one-->
<div class="modal fade" id="myAlert" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Double Negative</h4>
            </div>
            <div class="modal-body">
                Select where You Want to Add This By clicking on The Graph Location
            </div>
            <div class="modal-footer">
                <img id="uah2" src="./images/uahLogo.png">
                <button type="button" class="btn btn-default" data-dismiss="modal">Add</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>



            </div>
        </div>

    </div>
</div>  
<!-- Modal button two-->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Negative</h4>
            </div>
            <div class="modal-body">
                Enter Character:
                <input id="NewNegatedAssertionValue" type="text" name="addChar" onfocus="clearInput(this)"autofocus/><br>

            </div>
            <div class="modal-footer">
                <img id="uah2" src="./images/uahLogo.png">
                <button id="AddNegatedAssertionButton" type="button" class="btn btn-default" data-dismiss="modal" >Add</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                <script>
                    // Wire-up event handler to the button.
                    document.getElementById("AddNegatedAssertionButton").onclick = function(){model.addNegatedAssertion(document.getElementById("NewNegatedAssertionValue").value);}
                </script>
            </div>
        </div>

    </div>
</div>
<!-- Modal button three-->
<div class="modal fade" id="myModal2" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Assertion</h4>
            </div>
            <div class="modal-body">
                Enter Character:
                <input id="NewAssertionValue" type="text" name="addChar" onfocus="clearInput(this)"autofocus/><br>

            </div>
            <div class="modal-footer">
                <img id="uah2" src="./images/uahLogo.png">
                <button id="AddAssertionButton" type="button" class="btn btn-default" data-dismiss="modal">Add</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                <script>
                    // Wire-up event handler to the button.
                    document.getElementById("AddAssertionButton").onclick = function(){model.addAssertion(document.getElementById("NewAssertionValue").value);}
                </script>
            </div>
        </div>

    </div>
</div>
<script>
    // Wire up the MVC.
    view = new EG_View();
    model = new EG_Model();
    controller = new EG_Controller(model, view);
    view.setController(controller);

    // Wire-up event handler to the button.
    document.getElementById("AddNegatedAssertionButton").onclick = function(){model.addNegatedAssertion(document.getElementById("NewNegatedAssertionValue").value);
        document.getElementById("NewNegatedAssertionValue").value="";document.getElementById("NewNegatedAssertionValue").focus();
        $('#myModal').on('shown.bs.modal', function () {
            $('#NewNegatedAssertionValue').focus();
        });

    }

    document.getElementById("AddAssertionButton").onclick = function(){model.addAssertion(document.getElementById("NewAssertionValue").value);
        document.getElementById("NewAssertionValue").value="";document.getElementById("NewAssertionValue").focus();
        $('#myModal2').on('shown.bs.modal', function () {
            $('#NewAssertionValue').focus();
        });
    }


    function clearInput(input)
    {
        input.value="";
    }
    function clearArea()
    {
        view.EGclear();
        UpdateFill();
    }
    function  OnClickDraw()
    {
        view.EGclear();
       if(document.getElementById("drawType").value != null)
        model.Rebuild(view.check_expression(document.getElementById("drawType").value));
    }
    function UpdateFill()
    {
        document.getElementById("drawType").value = model.getString();
    }


</script>

</body>
</html>
